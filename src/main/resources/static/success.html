<!-- src/main/resources/static/success.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>κ²°μ  μ™„λ£</title>
</head>
<body>
<h1>π‰ κ²°μ κ°€ μ„±κ³µμ μΌλ΅ μ™„λ£λμ—μµλ‹λ‹¤.</h1>
<p id="paymentInfo">κ²°μ  μ •λ³΄λ¥Ό κ°€μ Έμ¤λ” μ¤‘...</p>

<script>
    // URL νλΌλ―Έν„°μ—μ„ pg_token κ°€μ Έμ¤κΈ°
    const urlParams = new URLSearchParams(window.location.search);
    const pgToken = urlParams.get('pg_token');

    // μ: μ„λ²„μ— κ²°μ  λ‚΄μ—­ μ΅°ν μ”μ²­
    fetch('/rest/payment/order')
        .then(res => res.json())
        .then(data => {
            if(data === true) {
                document.getElementById('paymentInfo').innerText = 'κ²°μ κ°€ μ™„λ£λμ—μµλ‹λ‹¤.';
            } else {
                document.getElementById('paymentInfo').innerText = 'κ²°μ  μƒνƒλ¥Ό ν™•μΈν•  μ μ—†μµλ‹λ‹¤.';
            }
        })
        .catch(() => {
            document.getElementById('paymentInfo').innerText = 'κ²°μ  μ΅°ν μ¤‘ μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤.';
        });

</script>
</body>
</html>
